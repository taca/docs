---
title: 'Contaoインストールツール'
description: 'Contaoインストールトールでデータベースへの接続、テーブルの更新、テンプレートのインポート、管理者アカウントの作成を行えます。'
aliases:
    - /ja/installation/contao-installtool/
weight: 90
---

{{% notice info %}}
Contao 5の時点でContaoインストールツールは必要ありません。なぜなら、データベースは直接[Contao Manager]({{% ref "installation/contao-manager" %}})またはコンソールから更新できるからです。
{{% /notice %}}

ブラウザーで、インストールしているContaoのURLに`/contao/install`を追加したURLを開くとインストールツールにアクセスできます。

> `www.example.com/contao/install`

ライセンスに同意して、後でインストールトールのアクセスに使用するパスワードを作成してください。

## データベース接続の作成

ほとんどの共有ホスティングのパッケージでは、その管理ソフトウェア(例えばConfixx、Plesk、cPanel)だけに許可しているため、Contaoインストールツール自身は新しいデータベースの作成はできません。このため、サーバーの管理ソフトウェアを使用して新しいデータベースを作成してください。そして、データベースの認証情報をContaoインストールツールに入力します。

![Contaoのデータベース接続の入力]({{% asset "images/manual/installation/ja/installtool-database-connection.png" %}}?classes=shadow)

**ホスト:** ここにデータベースサーバーのドメインまたはIPアドレスを入力します。

**ポート番号:** ここでデータベースサーバーのポート番号を変更できます。

**ユーザー名:** ここにデータベースのユーザー名を入力します。

**パスワード:** ここにデータベースのパスワードを入力します。

**データベース:** ここにデータベースの名前を入兎力します。

## テーブルの更新

データベースにアクセスするデータを保存した後で、インストールツールはデータベースに接続して現在のバージョンのContaoのテーブルと比較します。更新が必要な場合、インストールツールは承認または拒否を指定できる変更の一覧を自動的に表示します。

![データベースの変更の確認]({{% asset "images/manual/installation/ja/installtool-installing-schema.png" %}}?classes=shadow)

通常、提案された変更を受け入れて、テーブルが常にContaoの最新の状態にあって、後でContaoが欠けている項目にアクセスしないようにすべきです。
新しいインストールでは通常、最初はすべてのテーブルを作成しなければならないため変更の一覧はたいへん長くなります。

サーバーでデータベースを複数のアプリケーションが共有している場合、インストールツールは他のアプリケーションが必要とするテーブルを「除去」を提案する可能性があります。

{{% notice warning %}}
1つのデータベースで複数のアプリケーションを動作させることは論理的には可能ですが、それぞれのアプリケーションに別々のデータベースを使用すべきです。
{{% /notice %}}

## テンプレートのインポート

この時点で`/templates`ディレクトリから`.sql`ファイルをインポートできます。これはすべての既存のデータを削除します!  テーマをインポートしたい場合はContaoのバックエンドのテーマの管理を使用してください。

{{% notice warning %}}
テンプレートをインポートすると、既存のデータをすべて上書きします!
{{% /notice %}}

## 管理者アカウントの作成

テンプレートをインポートしなかった場合、例えば新しいウェブサイトをContaoで作成したい場合ですが、後でContaoのバックエンドのログインに使用する管理者ユーザーを作成しなければなりません。

![管理者アカウントの作成]({{% asset "images/manual/installation/ja/installtool-create-admin-account.png" %}}?classes=shadow)

**ユーザー名**:: ここに管理者のユーザー名を入力します。

**名前:** ここに管理者の氏名を入力します。

**電子メール:** ここに管理者の電子メールアドレスを入力します。

**パスワード:** ここに管理者のパスワードを入力します。

管理者ユーザーを作成が終わると、Contaoのインストールは完了で右下のリンクからバックエンドに移動できます。

## インストールツールのリセット {#reset-the-installtool}

インストールツールをリセットしたい理由は2つあります。

1. インストールツールがロックされてしまった。
2. インストールツールのパスワードを忘れてしまった。

インストールツールは[力まかせ探索](https://ja.wikipedia.org/wiki/%E5%8A%9B%E3%81%BE%E3%81%8B%E3%81%9B%E6%8E%A2%E7%B4%A2)から保護するため、連続して3回以上正しくないパスワードを入力すると自動的にロックします。

インストールツールのロックを解除する3つの選択肢があります:

- Contao Managerで「保守」のメニューにある「インストールトールのロックを解除「」をクリッkすします。![インストールツールをリセット]({{% asset "images/manual/installation/ja/unlock-install-tool-manager.png" %}}?classes=shadow)
- コマンド行でContaoをインストールしたルートディレクトリで以下のコマンドを実行します:

  ```bash
  php vendor/bin/contao-console contao:install:unlock
  ```
- Webサーバーの`/var`ディレクトリにある`install_lock`ファイルを削除します。

忘れてしまったパスワードはローカルの構成ファイル(`/system/config/localconfig.php`)でリセットできます。

`$GLOBALS['TL_CONFIG']['installPassword'] = '…';`という命令文を検索して、ファイルから完全に削除してください。すると、インストールツールを再読込みすると新しいパスワードを設定できます。
