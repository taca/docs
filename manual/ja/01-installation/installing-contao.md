## Contaoのインストール

まず始めに、[最新のContaoのアーカイブ][1]をダウンロードして使用しているコンピューター上で展開してください。展開したファイルを(XAMPPの場合は)コンピューター上の`htdocs`に移動するか、FTPプログラム([WinSCP][2]の使用を推奨)でサーバーにアップロードしてください。隠しファイルとなっている`.htaccess.default`もアップロードしていることを確認して、その名前を`.htaccess`に変更してください。サーバーの設定に依存しますが、公開フォルダーは`htpdocs`、`httpdocs`、`html`、`public_html`といった名前となっている場合が多いでしょう。

サーバーにSSHでアクセスできる場合はコマンド行、例えば`curl`を使用してアーカイブのダウンロードと展開を行えます。インストールしたいバージョンによって、書いてあるようにURLを調整してください。

最新のバージョンのContao (4.x):
```bash
curl -L http://download.contao.org | tar -xzp
```

<abbr title="長期間サポート">LTS</abbr>のバージョンのContao (3.5):
```bash
curl -L http://download.contao.org/lts | tar -xzp
```

特定のバージョン(例えば、3.5.2):
```bash
curl -L http://download.contao.org/3.5.2 | tar -xzp
```

### Contaoのインストールツール

Contaoのインストールツールを開始するには、ContaoをインストールするURLに単純に`/contao/install.php`を加えてアクセスしてください。インストールツールは総当たりの攻撃に対する防護をしていて、連続して誤ったパスワードを3回入力するとロックします。ロックを解除するには、テキストエディターで`system/config/localconfig.php`を開いて、以下の行を見つけて`0`に値を設定します。

```php
$GLOBALS['TL_CONFIG']['installCount'] = 0; // 自動的なロックをこれで削除
```


#### データベースの接続

サーバーの(例えば"Plesk"や"cPanel"といった)管理パネルにログインして、Contao用の新しいデータベースを作成してください。そして、Contaoのインストールツールに認証情報を入力してください。Contaoの文字セットの初期値の`UTF-8`は、MySQLでは`UTF8`と書くことに注意してください!


#### データベースのテーブルの更新

データベースに接続するとContaoは自動的にテーブルを確認して、最新の状態でない場合は推奨する変更のリストを表示します。この推奨する内容は注意深く読むようにしてください。なぜなら、Contaoはそれ自身のテーブルだけを知っていて、データベースを共有している他のアプリケーションのテーブルを最終的に削除しようとするからです。変更を確認して「データベースを更新」のボタンをクリックしてください。


#### テンプレートのインポート

テンプレートは、例となるページ構造とContaoのコアモジュールやコンテント要素の書式を整形する様々なスタイルシートを含んだ作成済みのウェブサイトです。

バージョン3.2.11から、ダウンロードしたパッケージは見本のウェブページを含んでいません。使用しているバージョンに応じて、新しい[*Contaoの公式なデモ*][3]か古い[*Music Academy*][4]を機能拡張としてインストールしてください。互換性についての情報は機能拡張リポジトリにあります。

**デモのインストールの方法:**

1. 新しくContaoを管理者ユーザーを作成してインストールします。
2. 管理者ユーザーでバックエンドにログインします。
3. 適合する拡張を[機能拡張リポジトリを使用][5]でインストールします。
4. バックエンドからログアウトします。
5. 再度インストールツールを開きます。

テンプレートをインポートするには、ドロップダウンメニューから項目を選択して、「テンプレートをインポート」をクリックしてください。

> #### danger:: 危険
> テンプレートをインポートするとき、既存のデータを置き換えます!


#### 管理者ユーザーの作成

テンプレートをインポートしなかった場合は、Contaoにログインする管理者ユーザーを作成しなければなりません。このアカウント作成すると、インストールの処理は完了です。右下の隅にあるリンクから管理領域に移動できます。サンプルのテンプレートをインポートした場合は"k.jones"というユーザーと"kevinjones"というパスワードでログインできます。


### Contaoのデモのインストール

*テンプレートのインポート*の節の*デモのインストールの方法*を参照してください。


### 検索エンジンが扱いやすいURLの使用

Apacheがサーバーとして動作していてmod_rewriteの使用が可能な場合は、検索エンジンが扱いやすい、静的なHTMLドキュメントのように見えるURLをContaoに生成させることができます。Contaoのディレクトリにある`.htaccess.default`というファイルには、いくつかの書き換えルールの初期設定が含まれています。このファイルを`.htaccess`と名前を変更すると、これをApacheサーバーが処理できるようになります。それから、バックエンドにログインしてシステムの設定を変更してください。「フロントエンドの構成」のセクションにある「URLの書き換え」を選択状態にして、変更を保存してください。これでContaoは`index.php?id=12`の代わりに`home.html`といったURLを生成するようになります。


[1]: https://contao.org/en/download.html
[2]: http://www.winscp.net/
[3]: https://contao.org/en/extension-list/view/official_demo.en.html
[4]: https://contao.org/en/extension-list/view/music_academy.en.html
[5]: ../05-system-administration/extensions.md#extension-catalog
